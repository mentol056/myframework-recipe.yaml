name: MyFramework Base Server
author: SajátFejlesztés
version: 1.0.0
description: Egyedi FiveM szerver recipe a MyFramework alaphoz.

tasks:

  # ======================
  # 1. FIVEM SERVER FILES
  # ======================
  - action: download_github
    src: https://github.com/citizenfx/cfx-server-data
    ref: master
    dest: ./resources/[cfx-default]

  # ======================
  # 2. ALAP RESOURCE-K
  # ======================
  - action: download_github
    src: https://github.com/overextended/ox_lib
    ref: main
    dest: ./resources/[standalone]/ox_lib

  - action: download_github
    src: https://github.com/overextended/oxmysql
    ref: main
    dest: ./resources/[standalone]/oxmysql

  # ======================
  # 3. SAJÁT FRAMEWORK
  # ======================
  - action: download_github
    src: https://github.com/YOUR_GITHUB_USERNAME/myframework
    ref: main
    dest: ./resources/[framework]/myframework

  # ======================
  # 4. KONFIGURÁLÁS
  # ======================
  - action: write_file
  path: ./server.cfg
  content: |
    # MyFramework auto-generated server.cfg
    endpoint_add_tcp "0.0.0.0:30120"
    endpoint_add_udp "0.0.0.0:30120"
    sv_hostname "MyFramework RP"
    ensure myframework


      sv_hostname "MyFramework Roleplay Server"
      sv_maxclients 64
      sv_licenseKey "IDE_ÍRD_A_FIVEM_KEYED"
      sv_enforceGameBuild 2944
      sets sv_projectName "MyFramework RP"
      sets sv_projectDesc "Egyedi framework alapú szerver"
      load_server_icon mylogo.png

      ensure mapmanager
      ensure chat
      ensure spawnmanager
      ensure sessionmanager
      ensure basic-gamemode
      ensure hardcap
      ensure rconlog

      ensure ox_lib
      ensure oxmysql
      ensure myframework

      add_ace group.admin command allow
      add_principal identifier.steam:110000XXXXXXX group.admin

      add_ace resource.myframework command.add_ace allow
      add_ace resource.myframework command.add_principal allow
      add_ace resource.myframework command.remove_principal allow

      sv_scriptHookAllowed 0
      sets locale "hu"
      setr voice_useNativeAudio true
      setr voice_useSendingRangeOnly true
      setr voice_defaultCycle "Z"
      setr voice_defaultVolume 1.0

      # adatbázis
      set mysql_connection_string "mysql://root:@localhost/myframework?charset=utf8mb4"

  # ======================
  # 5. ALAP MAP & ADATOK
  # ======================
  - action: download_file
    url: https://example.com/maps/legit_start_map.zip
    path: ./resources/[maps]/start_map.zip
  - action: unzip
    src: ./resources/[maps]/start_map.zip
    dest: ./resources/[maps]/start_map
    deleteAfter: true

  # ======================
  # 6. KÉSZ
  # ======================
  - action: success
    message: |
      ✅ Sikeresen telepítve!
      - MyFramework betöltve
      - Alap resource-ok futnak
      - Adatbázis kapcsolat készen
      Most már elindíthatod a szervert a txAdminban.

      
