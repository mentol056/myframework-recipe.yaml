name: MyFramework RP Base
author: SajátNeved
version: 1.0.0
description: Teljesen működő MyFramework recipe txAdminhoz

tasks:

  # 1️⃣ Letöltés: ox_lib
  - action: download_github
    src: https://github.com/overextended/ox_lib/archive/refs/heads/main.zip
    dest: ./resources/[standalone]/ox_lib.zip
  - action: unzip
    src: ./resources/[standalone]/ox_lib.zip
    dest: ./resources/[standalone]/ox_lib
    deleteAfter: true

  # 2️⃣ Letöltés: oxmysql
  - action: download_github
    src: https://github.com/overextended/oxmysql/archive/refs/heads/main.zip
    dest: ./resources/[standalone]/oxmysql.zip
  - action: unzip
    src: ./resources/[standalone]/oxmysql.zip
    dest: ./resources/[standalone]/oxmysql
    deleteAfter: true

  # 3️⃣ Letöltés: saját framework
  - action: download_github
    src: https://github.com/YOUR_GITHUB_USERNAME/myframework/archive/refs/heads/main.zip
    dest: ./resources/[framework]/myframework.zip
  - action: unzip
    src: ./resources/[framework]/myframework.zip
    dest: ./resources/[framework]/myframework
    deleteAfter: true

  # 4️⃣ Generálja a server.cfg-t
  - action: write_file
    path: ./server.cfg
    content: |
      # ======================================
      # MyFramework RP Auto-generated server.cfg
      # ======================================
      endpoint_add_tcp "0.0.0.0:30120"
      endpoint_add_udp "0.0.0.0:30120"

      sv_hostname "MyFramework RP Server"
      sv_maxclients 64
      sv_licenseKey "IDE_ÍRD_A_FIVEM_KEYED"

      ensure mapmanager
      ensure chat
      ensure spawnmanager
      ensure sessionmanager

      ensure ox_lib
      ensure oxmysql
      ensure myframework

      set mysql_connection_string "mysql://root:@localhost/myframework?charset=utf8mb4"

  # 5️⃣ Sikerüzenet
  - action: success
    message: |
      ✅ MyFramework telepítve!
      ✅ ox_lib és oxmysql telepítve!
      ✅ server.cfg generálva!
      Most már indíthatod a szervert.
